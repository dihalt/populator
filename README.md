# Populator
**Proof of concept —Å–º–µ—à–∞–Ω–Ω–æ–π –≥–∏–¥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Eloquent**

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–ò–¥–µ—è](#–ò–¥–µ—è)
- [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏](#–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏)
- [–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è](#–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
    - [–ü—Ä–∏–º–µ—Ä –±—ç–∫–µ–Ω–¥](#–ø—Ä–∏–º–µ—Ä-–±—ç–∫–µ–Ω–¥)
    - [–ü—Ä–∏–º–µ—Ä —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥](#–ø—Ä–∏–º–µ—Ä-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)
- [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤–≤–æ–¥–∞](#–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-–≤–≤–æ–¥–∞)
    - [–ü–ª–æ—Å–∫–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏](#–ø–ª–æ—Å–∫–∏–µ-—Å—É—â–Ω–æ—Å—Ç–∏)
    - [HasOne](#hasone)
    - [HasMany](#hasmany)
    - [BelongsTo](#belongsto)
    - [BelongsToMany](#belongstomany)
- [–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤—ã–≤–æ–¥–∞](#–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-–≤—ã–≤–æ–¥–∞)

## –ò–¥–µ—è

–†–∞–±–æ—Ç–∞—è —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ API, –º—ã —á–∞—Å—Ç–æ –ø–æ–ª—É—á–∞–µ–º —ç—Ç–∏ —Å—É—â–Ω–æ—Å—Ç–∏ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏, –Ω–æ –≤–æ—Ç –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö, –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é. –î–∞–Ω–Ω—ã–π –≥–∏–¥—Ä–∞—Ç–æ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ –¥—É–º–∞—Ç—å –æ–± —ç—Ç–æ–º. –ò —ç—Ç–æ —Å–∏–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–≤–æ–¥–æ–º –∏ –≤—ã–≤–æ–¥–æ–º –º–æ–¥–µ–ª–µ–π elquent "–∫–∞–∫ –µ—Å—Ç—å" - –±–µ–∑ –ª–∏—à–Ω–∏—Ö –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π
- Unit of work - –∏–ª–∏ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã *–≤—Å–µ* –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∏–ª–∏ (–≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏) –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤–æ–æ–±—â–µ 
- Idenity map - –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Å—É—â–Ω–æ—Å—Ç–∏ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ –∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–¥–µ—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º - –µ—Å—Ç—å —Å—É—Ç—å –æ–¥–Ω–æ
- uuid - –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–∞–ª–∏–¥–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏ —Å–≤—è–∑—ã–≤–∞—Ç—å –∏—Ö –º–µ–∂–¥—É —Å–æ–±–æ–π –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É, –Ω–µ –æ–±—Ä–∞—â–∞—è—Å—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö   
 
## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å uuid

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É —à—Ç—É–∫—É –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ

[üîù ](#–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

### –ü—Ä–∏–º–µ—Ä –±—ç–∫–µ–Ω–¥
```php
<?php

namespace App\Http\Controllers;

use App\Post;
use Exception;
use Greabock\Populator\Populator;
use Illuminate\Http\Request;

class PostController
{
    /**
     * @param $id
     * @param Request $request
     * @param Populator $populator
     * @return Post
     * @throws Exception
     */
    public function put(Request $request, Populator $populator): Post
    {
        $post = Post::findOrNew($request->get('id'));
        $populator->populate($post, $request->all());

        // –∑–¥–µ—Å—å –º—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤—è—Ç—Å—è –≤ –±–∞–∑—É.
        
        $populator->flush();
        
        return $post;
    }
}
```

[üîù ](#–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

### –ü—Ä–∏–º–µ—Ä —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
(–Ω–µ –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫ - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏–º–µ—Ä)
```js
import uuid from 'uuid/v4'

class Post {
  constructor(data) {
    if(!data.id) {
        data.id = uuid()
    }
    Object.assign(this, data)
  }
  
  addTag (tag) {
    this.tags.push(tag)
  }
  
  addImage (image) {
    this.images.push(image)
  }
}

class Tag {
  constructor(data) {
    if(!data.id) {
        data.id = uuid()
    }
    Object.assign(this, data)
  }
}

let post, tags;

//
function loadTags () {
  fetch('tags')
    .then(response => response.json())
    .then(tagsData => tags = data.map(tagdata => new Tag(tagdata)))

}

function loadPost (id) {
  fetch(`posts/${id}`)
    .then(response => response.json())
    .then(data => post = new Post(data))
}

function savePost(post) {
  fetch(`posts/${post.id}`, {method: 'PUT', body: JSON.stringify(post)})
    .then(response => response.json())
    .then(data => alert(`Post ${data.title} saved!`))
}

loadTags()
loadPost(1)

// –ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—Å—ë –∑–∞–≥—Ä—É–∂–µ–Ω–æ:

post.addTag(tags[0])
post.title = 'Hello World!'

savePost(post)

```
[üîù ](#–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤–≤–æ–¥–∞

### –ü–ª–æ—Å–∫–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏
**–í–æ–∑—å–º–µ–º –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä:**
```json
{
  "name": "Greabock",
  "email": "greabock@gmail.com",
}
```

–¢–∞–∫ –∫–∞–∫ –≤ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ `id` (–∏–ª–∏ –¥—Ä—É–≥–æ–µ –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–µ –±—ã–ª–æ —É–∫–∑–∞–Ω–æ –≤ `$primaryKey` –º–æ–¥–µ–ª–∏), –≥–∏–¥—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—É—é —Å—É—â–Ω–æ—Å—Ç—å. –ò –Ω–∞–ø–æ–ª–Ω–∏—Ç –µ–µ –ø–µ—Ä–µ–¥–∞–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏—Å–ø–æ–ª—å–∑—É—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–µ—Ç–æ–¥ `fill`.
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–ª—è –º–æ–¥–µ–ª–∏ –±—É–¥–µ—Ç —Å—Ä–∞–∑—É –∂–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω `id`. 

**–ü—Ä–∏–º–µ—Ä —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º:**
```json
{
  "id" : "123e4567-e89b-12d3-a456-426655440000",
  "name": "Greabock",
  "email": "greabock@gmail.com",
}
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ `id` –±—ã–ª –ø–µ—Ä–µ–¥–∞–Ω - –ø–æ—ç—Ç–æ–º—É –≥–∏–¥—Ä–∞—Ç–æ—Ä –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ —Ç–∞–∫—É—é —Å—É—â–Ω–æ—Å—Ç—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ —É –Ω–µ–≥–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è –Ω–∞–π—Ç–∏ —Ç–∞–∫—É—é –∑–∞–ø–∏—Å—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —Ç–æ –æ–Ω —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—É—é —Å—É—â–Ω–æ—Å—Ç—å —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º `id` .
–í –ª—é–±–æ–º —Å–ª—É—á–∞–µ, –≥–∏–¥—Ä–∞—Ç–æ—Ä –∑–∞–ø–æ–ª–Ω–∏—Ç —ç—Ç—É –º–æ–¥–µ–ª—å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ `email` –∏ `name`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ `User::findORNew($id)`.

[üîù ](#–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

### HasOne

```json
{
  "id": "123e4567-e89b-12d3-a456-426655440000",
  "name": "Greabock",
  "email": "greabock@gmail.com",
  "account": {
    "active": true,
  }
}
```
–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –≥–∏–¥—Ä–∞—Ç–æ—Ä –ø–æ—Å—Ç—É–ø–∏—Ç —Å —Å—É—â–Ω–æ—Å—Ç—å—é –ø–µ—Ä–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º) —Ç–∞–∫ –∂–µ, –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º. –ó–∞—Ç–µ–º, –æ–Ω –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –∏ –∞–∫–∫–∞—É–Ω—Ç - –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ—Ç (–∞ –≤ —Ç–µ–∫—É—â–µ–º –ø—Ä–∏–º–µ—Ä–µ —É –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–µ—Ç `id`), —Ç–æ —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π. –ï—Å–ª–∏ –Ω–∞–π–¥–µ—Ç –Ω–æ —Å –¥—Ä—É–≥–∏–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º, —Ç–æ –∑–∞–º–µ—Å—Ç–∏—Ç –µ–≥–æ –≤–Ω–æ–≤—å —Å–æ–∑–¥–∞–Ω–Ω—ã–º. –°—Ç–∞—Ä—ã–π –∂–µ –∞–∫–∫–∞—É–Ω—Ç –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω. –°–∞–º–æ —Å–æ–±–æ–π –≤ –≤—Å—è–∑–∞–Ω–Ω–æ–µ –ø–æ–ª–µ –ø–æ—Å—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä `user_id` –∏–ª–∏ `author_id` - –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ —ç—Ç–æ —É–∫–∞–∑–∞–Ω–æ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ `User::account()`), –±—É–¥–µ—Ç –∑–∞–ø–∏—Å–∞–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

[üîù ](#–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

### HasMany
```json
{
  "id": "123e4567-e89b-12d3-a456-426655440000",
  "name": "Greabock",
  "email": "greabock@gmail.com",
  "posts": [
    {
      "id": "1286d5bb-c566-4f3e-abe0-4a5d56095f01",
      "title": "foo",
      "text": "bar"
    },
    {
      "id": "d91c9e65-3ce3-4bea-a478-ee33c24a4628",
      "title": "baz",
      "text": "quux"
    },
    {
      "title": "baz",
      "text": "quux"
    }
  ]
}
```

–í –ø—Ä–∏–º–µ—Ä–µ —Å –æ—Ç–Ω–æ—à–µ–Ω–∏–µ–º, "–º–Ω–æ–≥–∏–µ –∫ –æ–¥–Ω–æ–º—É", –≥–∏–¥—Ä–∞—Ç–æ—Ä –ø–æ—Å—Ç—É–ø–∏—Ç —Å –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å—å—é –ø–æ—Å—Ç–∞, –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ—Ä–µ `HasOne`. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤—Å–µ –∑–∞–ø–∏—Å–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–º –º–∞—Å—Å–∏–≤–µ –ø–æ—Å—Ç–æ–≤, –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.

[üîù ](#–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

### BelongsTo

```json
{
  "id" : "123e4567-e89b-12d3-a456-426655440000",
  "name": "Greabock",
  "email": "greabock@gmail.com",
  "organization": {
    "id": "1286d5bb-c566-4f3e-abe0-4a5d56095f01",
    "name": "Acme"
  },
}
```
–•–æ—Ç—è —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –∏ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ `HasOne`, —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–Ω –∏–Ω–∞—á–µ. –ï—Å–ª–∏ —Ç–∞–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω–∞ –≥–∏–¥—Ä–∞—Ç–æ—Ä–æ–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç –∫ –Ω–µ–π –ø—Ä–∏–≤—è–∑–∞–Ω —á–µ—Ä–µ–∑ –ø–æ–ª–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è. –° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –µ—Å–ª–∏ —Ç–∞–∫–æ–π –∑–∞–ø–∏—Å–∏ –Ω–µ –±—É–¥–µ—Ç, —Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç –≤ —ç—Ç–æ –ø–æ–ª–µ `null`. –í—Å–µ –ø—Ä–æ—á–∏–µ –ø–æ–ª—è —Å–≤—è–∑–∞–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏ (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏) –±—É–¥—É—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω—ã - —Ç–∞–∫ –∫–∞–∫ `User` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è `aggregate root` –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ `Organization`, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –Ω–µ–ª—å–∑—è —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—è–º–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–∞–∫ –Ω–µ–ª—å–∑—è –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

[üîù ](#–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

### BelongsToMany

```json
{
  "id" : "123e4567-e89b-12d3-a456-426655440000",
  "name": "Greabock",
  "email": "greabock@gmail.com",
  "roles": [
    {
      "id": "dcb41b0c-8bc1-490c-b714-71a935be5e2c",
      "pivot": { "sort": 0 }
    }
  ]
}
```

–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –ø–æ—Ö–æ–∂ –Ω–∞ —Å–º–µ—Å—å –∏–∑ `HasMany` (–≤ —Ç–æ–º —Å–º—ã—Å–ª–µ, —á—Ç–æ –≤—Å–µ –Ω–µ–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –∏–∑ –ø–∏–≤–æ—Ç–∞) –∏ `BlongsTo` (–≤—Å–µ –ø–æ–ª—è, –∫—Ä–æ–º–µ –ø–æ–ª—è `$primaryKey` –±—É–¥—É—Ç –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω—ã, –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º –∏–∑–ª–æ–∂–µ–Ω—ã–º –≤—ã—à–µ –≤ —Ä–∞–∑–¥–µ–ª–µ `belongsTo`). –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Ä–∞–±–æ—Ç–∞ —Å –ø–∏–≤–æ—Ç–æ–º —Ç–∞–∫ –∂–µ –¥–æ—Å—Ç—É–ø–Ω–∞.

---
> –í—Å—ë –æ–ø–∏—Å–∞–Ω–Ω–æ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ, –∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ –¥–ª—è –ª—é–±–æ–π —Å—Ç–µ–ø–µ–Ω–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.

---
[üîù ](#–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤—ã–≤–æ–¥–∞

–°—Ç–æ–∏—Ç —Ç–∞–∫–∂–µ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å—É—â–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –≤—ã–≤–æ–¥–µ.
–ù–∞–ø—Ä–∏–º–µ—Ä:

```php
    $user = $populator->populate(User::class, [
        'id'    => '123e4567-e89b-12d3-a456-426655440000',
        'name'  => 'Greabock',
        'email' => 'greabock@gmail.com',
        'roles' => [
            [
              'id'    => 'dcb41b0c-8bc1-490c-b714-71a935be5e2c',
              'pivot' => ['sort' => 0],
            ],
        ],
    ]);
    
    $user->relationLoaded('roles'); // true
    // —Ö–æ—Ç—è flush –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω, –≤—Å–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —É–∂–µ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã, –∏ –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏—Ö –¥–æ–ø–æ–ª–Ω—Ç–∏—Ç–µ–ª—å–Ω–æ.
    // –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ $user->roles - –Ω–µ –≤—ã–∑–æ–≤–µ—Ç –ø–æ–≤—Ç–æ—Ä–æ–Ω–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ –±–¥.

    $populator->flush();
    // –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å—É—â–Ω–æ—Å—Ç—å —Å–æ –≤—Å–µ–º–∏ –µ–µ —Å–≤—è–∑—è–º–∏ –ø–æ–ø–∞–¥—ë—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. 
```
[üîù ](#–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)

## TODO
- –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–∏—Å—Ç–∞ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–µ –ø—Ä–æ—à–µ–¥—à–µ–π —á–µ—Ä–µ–∑ –≥–∏–¥—Ä–∞—Ç–æ—Ä
- –¥–æ–±–∞–≤–∏—Ç—å –≤ readme –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π

[üîù ](#–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ) 








